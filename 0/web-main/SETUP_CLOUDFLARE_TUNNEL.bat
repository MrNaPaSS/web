@echo off
chcp 65001 > nul

title Forex Signals Pro - Cloudflare Tunnel Setup

echo.
echo â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
echo â•‘                                                                â•‘
echo â•‘        ğŸŒ ĞĞĞ¡Ğ¢Ğ ĞĞ™ĞšĞ CLOUDFLARE TUNNEL Ğ”Ğ›Ğ¯ PRODUCTION ğŸŒ      â•‘
echo â•‘                                                                â•‘
echo â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.

echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo  Ğ¨ĞĞ“ 1: Ğ¡ĞºĞ°Ñ‡Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğµ cloudflared
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.

if not exist "cloudflared.exe" (
    echo ğŸ“¥ Ğ¡ĞºĞ°Ñ‡Ğ¸Ğ²Ğ°Ñ cloudflared Ğ´Ğ»Ñ Windows...
    powershell -Command "Invoke-WebRequest -Uri 'https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-windows-amd64.exe' -OutFile 'cloudflared.exe'"
    if exist "cloudflared.exe" (
        echo âœ… cloudflared ÑĞºĞ°Ñ‡Ğ°Ğ½ ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾!
    ) else (
        echo âŒ ĞÑˆĞ¸Ğ±ĞºĞ° ÑĞºĞ°Ñ‡Ğ¸Ğ²Ğ°Ğ½Ğ¸Ñ cloudflared!
        echo    Ğ¡ĞºĞ°Ñ‡Ğ°Ğ¹ Ğ²Ñ€ÑƒÑ‡Ğ½ÑƒÑ: https://github.com/cloudflare/cloudflared/releases
        pause
        exit /b 1
    )
) else (
    echo âœ… cloudflared ÑƒĞ¶Ğµ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½
)

echo.
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo  Ğ¨ĞĞ“ 2: ĞĞ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ² Cloudflare
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.

echo ğŸ” Ğ’Ñ‹Ğ¿Ğ¾Ğ»Ğ½ÑÑ Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ² Cloudflare...
echo    (ĞÑ‚ĞºÑ€Ğ¾ĞµÑ‚ÑÑ Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€ Ğ´Ğ»Ñ Ğ²Ñ…Ğ¾Ğ´Ğ°)
echo.
cloudflared.exe login

echo.
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo  Ğ¨ĞĞ“ 3: Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ¸Ğ¼ĞµĞ½Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ¾Ğ³Ğ¾ Ñ‚ÑƒĞ½Ğ½ĞµĞ»Ñ
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.

echo ğŸš‡ Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ Ğ¸Ğ¼ĞµĞ½Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹ Ñ‚ÑƒĞ½Ğ½ĞµĞ»ÑŒ...
cloudflared.exe tunnel create forex-signals-bot

echo.
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo  Ğ¨ĞĞ“ 4: ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¸
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.

REM Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ğ¸ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¸
if not exist "%USERPROFILE%\.cloudflared" mkdir "%USERPROFILE%\.cloudflared"

echo ğŸ“ Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ½Ñ‹Ğ¹ Ñ„Ğ°Ğ¹Ğ»...

REM ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ ID Ñ‚ÑƒĞ½Ğ½ĞµĞ»Ñ Ğ¸Ğ· ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹ create
for /f "tokens=*" %%i in ('cloudflared.exe tunnel list ^| findstr forex-signals-bot') do set TUNNEL_ID=%%i
set TUNNEL_ID=%TUNNEL_ID:~0,36%

echo Tunnel ID: %TUNNEL_ID%

REM Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ config.yml
(
echo tunnel: %TUNNEL_ID%
echo credentials-file: %USERPROFILE%\.cloudflared\%TUNNEL_ID%.json
echo ingress:
echo   - service: http://localhost:5173
echo   - service: http_status:404
) > "%USERPROFILE%\.cloudflared\config.yml"

echo âœ… ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ°: %USERPROFILE%\.cloudflared\config.yml

echo.
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo  Ğ¨ĞĞ“ 5: Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° cloudflared ĞºĞ°Ğº ÑĞ»ÑƒĞ¶Ğ±Ñ‹
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.

echo ğŸ”§ Ğ£ÑÑ‚Ğ°Ğ½Ğ°Ğ²Ğ»Ğ¸Ğ²Ğ°Ñ cloudflared ĞºĞ°Ğº Windows ÑĞ»ÑƒĞ¶Ğ±Ñƒ...
cloudflared.exe service install

echo.
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo  Ğ¨ĞĞ“ 6: Ğ—Ğ°Ğ¿ÑƒÑĞº Ñ‚ÑƒĞ½Ğ½ĞµĞ»Ñ
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.

echo ğŸš€ Ğ—Ğ°Ğ¿ÑƒÑĞºĞ°Ñ Ñ‚ÑƒĞ½Ğ½ĞµĞ»ÑŒ...
echo    Ğ­Ñ‚Ğ¾ Ğ·Ğ°Ğ¹Ğ¼ĞµÑ‚ Ğ½ĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¾ ÑĞµĞºÑƒĞ½Ğ´...
echo.
start /min cmd /k "cloudflared.exe tunnel run forex-signals-bot"

timeout /t 10 /nobreak > nul

echo.
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo  Ğ¨ĞĞ“ 7: ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ¿ÑƒĞ±Ğ»Ğ¸Ñ‡Ğ½Ğ¾Ğ³Ğ¾ URL
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.

echo ğŸ” ĞŸĞ¾Ğ»ÑƒÑ‡Ğ°Ñ Ğ¿ÑƒĞ±Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğ¹ URL Ñ‚ÑƒĞ½Ğ½ĞµĞ»Ñ...

REM Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ ÑĞºÑ€Ğ¸Ğ¿Ñ‚Ğ° Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ñ URL
echo powershell -Command "$response = Invoke-WebRequest -Uri 'http://localhost:4040/api/tunnels' -UseBasicParsing; $json = $response.Content ^| ConvertFrom-Json; $tunnel = $json.tunnels ^| Where-Object { $_.config.addr -eq 'http://localhost:5173' }; if ($tunnel) { $tunnel.public_url } else { 'Tunnel not ready yet' }" > get_tunnel_url.ps1

for /L %%i in (1,1,10) do (
    powershell -ExecutionPolicy Bypass -File get_tunnel_url.ps1 > tunnel_url.txt 2>nul
    for /f "delims=" %%j in (tunnel_url.txt) do set TUNNEL_URL=%%j
    if not "%TUNNEL_URL%"=="Tunnel not ready yet" if not "%TUNNEL_URL%"=="" goto :url_found
    echo ĞĞ¶Ğ¸Ğ´Ğ°Ğ½Ğ¸Ğµ Ñ‚ÑƒĞ½Ğ½ĞµĞ»Ñ... (%%i/10)
    timeout /t 3 /nobreak > nul
)

:url_found
if "%TUNNEL_URL%"=="" set TUNNEL_URL=https://trycloudflare.com

echo âœ… ĞŸÑƒĞ±Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğ¹ URL: %TUNNEL_URL%

echo.
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo  Ğ¨ĞĞ“ 8: ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ±Ğ¾Ñ‚Ğ°
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.

echo ğŸ”„ ĞĞ±Ğ½Ğ¾Ğ²Ğ»ÑÑ web_app_url Ğ² telegram_bot.py...
python -c "import re; file_path = 'e:\\TelegramBot_RDP\\telegram_bot.py'; content = open(file_path, 'r', encoding='utf-8').read(); new_content = re.sub(r'self\.web_app_url = \".*\"', r'self.web_app_url = \"%TUNNEL_URL%\"', content); open(file_path, 'w', encoding='utf-8').write(new_content)"

echo âœ… Ğ‘Ğ¾Ñ‚ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½ Ñ Ğ½Ğ¾Ğ²Ñ‹Ğ¼ URL: %TUNNEL_URL%

echo.
echo â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
echo â•‘                                                                â•‘
echo â•‘             âœ… CLOUDFLARE TUNNEL ĞĞĞ¡Ğ¢Ğ ĞĞ•Ğ! âœ…                â•‘
echo â•‘                                                                â•‘
echo â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.

echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo  ğŸ“¡ Ğ˜ĞĞ¤ĞĞ ĞœĞĞ¦Ğ˜Ğ¯:
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.
echo  ğŸŒ ĞŸÑƒĞ±Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğ¹ URL: %TUNNEL_URL%
echo  ğŸ”§ ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³: %USERPROFILE%\.cloudflared\config.yml
echo  ğŸš€ Ğ¡Ğ»ÑƒĞ¶Ğ±Ğ°: cloudflared (Ğ°Ğ²Ñ‚Ğ¾Ğ·Ğ°Ğ¿ÑƒÑĞº)
echo.
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.

echo  ğŸ§ª Ğ¢Ğ•Ğ¡Ğ¢Ğ˜Ğ ĞĞ’ĞĞĞ˜Ğ•:
echo     1. ĞÑ‚ĞºÑ€Ğ¾Ğ¹ %TUNNEL_URL% Ğ² Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ğµ
echo     2. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒ, Ñ‡Ñ‚Ğ¾ Ğ²ĞµĞ±-Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ Ğ·Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµÑ‚ÑÑ
echo     3. ĞŸĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸ Telegram Ğ±Ğ¾Ñ‚Ğ°
echo     4. ĞŸÑ€Ğ¾Ñ‚ĞµÑÑ‚Ğ¸Ñ€ÑƒĞ¹ ĞºĞ½Ğ¾Ğ¿ĞºÑƒ "Web App" Ğ² Telegram
echo.
echo  âš ï¸  Ğ’ĞĞ–ĞĞ:
echo     - Ğ¢ÑƒĞ½Ğ½ĞµĞ»ÑŒ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¿Ğ¾ĞºĞ° Ğ·Ğ°Ğ¿ÑƒÑ‰ĞµĞ½ cloudflared
echo     - Ğ”Ğ»Ñ Ğ¿Ğ¾ÑÑ‚Ğ¾ÑĞ½Ğ½Ğ¾Ğ¹ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸ ĞºĞ°Ğº ÑĞ»ÑƒĞ¶Ğ±Ñƒ
echo     - ĞŸÑ€Ğ¸Ğ²ÑĞ¶Ğ¸ Ğ´Ğ¾Ğ¼ĞµĞ½ Ñ‡ĞµÑ€ĞµĞ· Cloudflare DNS Ğ´Ğ»Ñ Ğ¿Ğ¾ÑÑ‚Ğ¾ÑĞ½Ğ½Ğ¾Ğ³Ğ¾ URL
echo.
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.

REM ĞÑ‡Ğ¸ÑÑ‚ĞºĞ° Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ñ… Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²
del tunnel_url.txt get_tunnel_url.ps1 2>nul

pause
