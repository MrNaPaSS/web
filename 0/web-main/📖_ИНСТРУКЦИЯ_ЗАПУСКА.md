# 🚀 ИНСТРУКЦИЯ ПО ЗАПУСКУ СИСТЕМЫ

## Быстрый запуск

### 1. Запуск ВСЕЙ системы одной кнопкой

**Запустите файл:** `🚀_ЗАПУСК_СИСТЕМЫ.bat`

Этот файл запустит:
- ✅ Telegram Bot с сигналами (порт по умолчанию)
- ✅ Auth API (порт 5001)
- ✅ Signal API (порт 5002)
- ✅ Frontend WebApp (порт 5173)

### 2. Проверка запуска

После запуска откроется 4 окна консоли:
1. **Telegram Bot** - бот с генерацией сигналов
2. **Auth API** - авторизация пользователей (http://localhost:5001)
3. **Signal API** - генерация сигналов (http://localhost:5002)
4. **Frontend** - веб-интерфейс (http://localhost:5173)

### 3. Открытие веб-приложения

Откройте в браузере: **http://localhost:5173**

### 4. Telegram Bot

Найдите вашего бота в Telegram и используйте команды:
- `/start` - запуск бота
- `/webapp` - открыть веб-приложение (если настроено)

---

## Остановка системы

**Запустите файл:** `🛑_ОСТАНОВКА_СИСТЕМЫ.bat`

Этот файл остановит все запущенные сервисы.

---

## Ручной запуск (если нужно)

### Запуск только Telegram бота
```bash
cd e:\TelegramBot_RDP
python run_telegram_bot.py
```

### Запуск только Backend API
```bash
# Auth API
cd e:\TelegramBot_RDP\home\ubuntu\forex-signals-app\backend
python auth_api.py

# Signal API
cd e:\TelegramBot_RDP\home\ubuntu\forex-signals-app\backend
python signal_api.py
```

### Запуск только Frontend
```bash
cd e:\TelegramBot_RDP\home\ubuntu\forex-signals-app
npm run dev
```

---

## Проблемы и решения

### Ошибка: "Python не найден"
Установите Python 3.8+ с официального сайта: https://www.python.org/downloads/

### Ошибка: "npm не найден"
Установите Node.js с официального сайта: https://nodejs.org/

### Ошибка: "Module not found"
Установите зависимости:
```bash
# Python зависимости
pip install -r requirements.txt

# Node.js зависимости
cd home\ubuntu\forex-signals-app
npm install
```

### Порт уже занят
Остановите существующие процессы:
```bash
# Windows
netstat -ano | findstr :5001
taskkill /PID <PID> /F
```

---

## Конфигурация

### Telegram Bot Token
Файл: `config.py`
```python
BOT_TOKEN = "ВАШ_ТОКЕН"
```

### API Keys
Файл: `config.py`
```python
TWELVEDATA_API_KEY = "ВАШ_КЛЮЧ"
```

### Backend Config
Файл: `home\ubuntu\forex-signals-app\backend\auth_api.py`
```python
BOT_TOKEN = 'ВАШ_ТОКЕН'
ADMIN_TELEGRAM_ID = 'ВАШ_ID'
```

Файл: `home\ubuntu\forex-signals-app\backend\signal_api.py`
```python
BOT_DIR = 'e:/TelegramBot_RDP'
```

---

## Архитектура системы

```
┌─────────────────────────────────────────────────────────────┐
│                     TELEGRAM BOT                            │
│                 (Генерация сигналов)                        │
│                  run_telegram_bot.py                        │
└─────────────────────────────────────────────────────────────┘
                            │
                            ▼
┌─────────────────────────────────────────────────────────────┐
│                    BACKEND APIs                             │
│  ┌──────────────────┐    ┌──────────────────┐             │
│  │   Auth API       │    │   Signal API     │             │
│  │   Port: 5001     │    │   Port: 5002     │             │
│  │  (Авторизация)   │    │  (Генерация)     │             │
│  └──────────────────┘    └──────────────────┘             │
└─────────────────────────────────────────────────────────────┘
                            │
                            ▼
┌─────────────────────────────────────────────────────────────┐
│                    FRONTEND                                 │
│                 React + Vite + Tailwind                     │
│                    Port: 5173                               │
│             (Веб-интерфейс для пользователей)              │
└─────────────────────────────────────────────────────────────┘
```

---

## Production (для реального использования)

### 1. Сборка Frontend
```bash
cd home\ubuntu\forex-signals-app
npm run build
```

### 2. Запуск Production сервера
```bash
python serve_production.py
```

### 3. HTTPS туннель (для Telegram WebApp)

**Вариант 1: Cloudflare Tunnel**
```bash
cloudflared tunnel --url http://localhost:5173
```

**Вариант 2: ngrok**
```bash
ngrok http 5173
```

### 4. Обновление Telegram Bot URL
После получения HTTPS URL, обновите конфигурацию в боте.

---

## Поддержка

Если что-то не работает:
1. Проверьте все окна консолей на наличие ошибок
2. Убедитесь, что все зависимости установлены
3. Проверьте конфигурационные файлы
4. Остановите и запустите систему заново

---

**Версия:** 1.0  
**Последнее обновление:** 2025-01-14

