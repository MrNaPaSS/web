<!-- 04f3ebf1-6c03-4fcb-b905-24ce771e6711 ff5dfe9b-54f8-40c9-ac50-118e840ab2a8 -->
# Техническое задание: Поиск и исправление захардкоженных текстов

## Цель

Найти и исправить все захардкоженные русские тексты в файле `home/ubuntu/forex-signals-app/src/App.jsx`, которые не переводятся на другие языки.

## Область проверки

- Файл: `home/ubuntu/forex-signals-app/src/App.jsx`
- Все страницы приложения (welcome, menu, market-select, mode-select, main, settings, admin, premium, user-stats, ml-selector, notifications, analytics, generating, signal-selection)
- **Включая**: alert(), confirm(), всплывающие окна, кнопки, заголовки, описания, метки
- **Исключая**: комментарии, console.log(), console.error(), системные логи

## Методика поиска захардкоженных текстов

### Шаг 1: Найти все текстовые элементы JSX

Искать паттерны:

- `<h1>`, `<h2>`, `<h3>`, `<p>`, `<span>`, `<div>` с текстом внутри
- `<Button>текст</Button>`
- `<Badge>текст</Badge>`
- `placeholder="текст"`
- `title="текст"`
- Текст в фигурных скобках `{текст}` (но не `{t('ключ')}`)

### Шаг 2: Найти alert() и confirm()

Искать паттерны:

- `alert('текст')` или `alert("текст")`
- `alert(\`текст\`)`
- `confirm('текст')` или `confirm("текст")`
- `confirm(\`текст\`)`

Проверить, что используется `t()`:

- ✅ Правильно: `alert(t('ключ'))`
- ❌ Неправильно: `alert('Текст на русском')`

### Шаг 3: Проверить строковые литералы с кириллицей

Использовать regex поиск:

- Паттерн: `['"\`][А-Яа-яЁё]` (кавычки + кириллица)
- Исключить: строки внутри комментариев `//` и `/* */`
- Исключить: строки внутри console.log/error/warn/info

### Шаг 4: Проверить условные рендеринги

Искать:

```javascript
{condition && 'текст'}
{condition ? 'текст1' : 'текст2'}
```

## Алгоритм исправления

### Для каждого найденного захардкоженного текста:

1. **Создать уникальный ключ перевода**

   - Формат: camelCase
   - Пример: `'Режим генерации'` → `generationMode`
   - Пример: `'Доступно через'` → `availableIn`

2. **Заменить текст на функцию t()**
   ```javascript
   // Было:
   <h2>Режим генерации</h2>
   
   // Стало:
   <h2>{t('generationMode')}</h2>
   ```

3. **Добавить перевод во ВСЕ языковые словари**

В файле `App.jsx` найти объект `translations` и добавить ключ в каждый язык:

   - `ru` (русский)
   - `en` (английский)
   - `th` (тайский)
   - `es` (испанский)
   - `fr` (французский)
   - `de` (немецкий)
   - `zh` (китайский)
   - `it` (итальянский)
   - `pt` (португальский)
   - `ja` (японский)
   - `ko` (корейский)
   - `ar` (арабский)
   - `hi` (хинди)

4. **Для текстов с параметрами**
   ```javascript
   // Было:
   alert(`Осталось ${minutes} минут`)
   
   // Стало:
   alert(t('remainingMinutes', {minutes: minutes}))
   
   // В словарях:
   remainingMinutes: 'Осталось {minutes} минут' // ru
   remainingMinutes: 'Remaining {minutes} minutes' // en
   ```


## Приоритетные страницы для проверки

1. **language-select** (экран выбора языка) - строки ~7400-7500
2. **welcome** (приветственный экран) - строки ~7500-7600
3. **menu** (главное меню) - строки ~7600-7750
4. **market-select** (выбор рынка) - строки ~8850-8950
5. **mode-select** (выбор режима) - строки ~8940-9080 ✅ УЖЕ ИСПРАВЛЕНО
6. **signal-selection** (выбор пары для сигнала) - поиск по коду
7. **generating** (экран генерации) - строки ~7700-7850
8. **main** (основной экран с сигналами) - строки ~7750-8850
9. **settings** (настройки) - строки ~9080-9300
10. **admin** (админ-панель) - поиск по `currentScreen === 'admin'`
11. **user-stats** (статистика пользователя) - поиск по коду
12. **ml-selector** (выбор ML модели) - поиск по коду
13. **notifications** (уведомления) - поиск по коду
14. **analytics** (аналитика) - поиск по коду

## Контрольный список для каждого экрана

- [ ] Заголовки страниц (h1, h2, h3)
- [ ] Подзаголовки и описания (p, span)
- [ ] Текст на кнопках (Button)
- [ ] Метки и бейджи (Badge, Label)
- [ ] Текст в карточках (Card)
- [ ] Placeholder в полях ввода
- [ ] Alert и confirm сообщения
- [ ] Условный текст (тернарные операторы)
- [ ] Текст в списках (li, ul)
- [ ] Текст ошибок и предупреждений

## Инструменты для работы

1. **Поиск по regex**: `grep -E "['\"\\x60][А-Яа-яЁё]" App.jsx`
2. **Поиск alert**: `grep "alert(" App.jsx`
3. **Поиск confirm**: `grep "confirm(" App.jsx`
4. **Поиск по строкам экранов**: `grep "currentScreen ===" App.jsx`

## Ожидаемый результат

После выполнения работы:

- ✅ Все видимые пользователю тексты используют функцию t()
- ✅ Все ключи переводов добавлены во все 13 языковых словарей
- ✅ При смене языка весь интерфейс переводится корректно
- ✅ Alert и confirm также переводятся
- ✅ Нет захардкоженных русских текстов в UI

## Пример исправления

### Было:

```javascript
<Card onClick={() => setCurrentScreen('market-select')}>
  <h3>Forex</h3>
  <p>Работает 5 дней в неделю</p>
</Card>
```

### Стало:

```javascript
<Card onClick={() => setCurrentScreen('market-select')}>
  <h3>{t('forex')}</h3>
  <p>{t('worksWeekdays')}</p>
</Card>

// В словарях:
translations = {
  ru: {
    forex: 'Forex',
    worksWeekdays: 'Работает 5 дней в неделю'
  },
  en: {
    forex: 'Forex',
    worksWeekdays: 'Works 5 days a week'
  },
  // ... остальные языки
}
```