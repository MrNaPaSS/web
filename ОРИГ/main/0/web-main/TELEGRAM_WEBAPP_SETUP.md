# ü§ñ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram WebApp

## –®–ê–ì 1: –ù–∞—Å—Ç—Ä–æ–π WebApp URL –≤ –±–æ—Ç–µ

### –ß–µ—Ä–µ–∑ BotFather:

1. –û—Ç–∫—Ä–æ–π —á–∞—Ç —Å **@BotFather** –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å –∫–æ–º–∞–Ω–¥—É `/mybots`
3. –í—ã–±–µ—Ä–∏ —Å–≤–æ–µ–≥–æ –±–æ—Ç–∞
4. –ù–∞–∂–º–∏ **Bot Settings**
5. –ù–∞–∂–º–∏ **Menu Button**
6. –ù–∞–∂–º–∏ **Edit menu button URL**
7. –í–≤–µ–¥–∏ URL —Å–≤–æ–µ–≥–æ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
   ```
   https://—Ç–≤–æ–π-–¥–æ–º–µ–Ω.com
   –∏–ª–∏
   https://ngrok-url.ngrok.io
   ```

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± - —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É:

–û—Ç–ø—Ä–∞–≤—å –±–æ—Ç—É –∫–æ–º–∞–Ω–¥—É —Å inline –∫–Ω–æ–ø–∫–æ–π:

```python
from telegram import InlineKeyboardButton, InlineKeyboardMarkup, WebAppInfo

keyboard = [
    [InlineKeyboardButton(
        "üöÄ –û—Ç–∫—Ä—ã—Ç—å Forex Signals Pro", 
        web_app=WebAppInfo(url="https://—Ç–≤–æ–π-url.com")
    )]
]
reply_markup = InlineKeyboardMarkup(keyboard)
```

## –®–ê–ì 2: –ù–∞—Å—Ç—Ä–æ–π NGROK (–¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

### 1. –°–∫–∞—á–∞–π ngrok:
https://ngrok.com/download

### 2. –ó–∞–ø—É—Å—Ç–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥:
```bash
npm run dev
```

### 3. –°–æ–∑–¥–∞–π —Ç—É–Ω–Ω–µ–ª—å:
```bash
ngrok http 5173
```

### 4. –ü–æ–ª—É—á–∏ HTTPS URL:
```
Forwarding: https://abc123.ngrok.io -> http://localhost:5173
```

### 5. –£–∫–∞–∂–∏ —ç—Ç–æ—Ç URL –≤ BotFather

## –®–ê–ì 3: –û–±–Ω–æ–≤–∏ –∫–æ–Ω—Ñ–∏–≥ –±–æ—Ç–∞

–í `config.py` –¥–æ–±–∞–≤—å:

```python
class BotConfig:
    # ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ...
    
    # WebApp URL
    WEBAPP_URL = "https://—Ç–≤–æ–π-url.com"  # –¢–≤–æ–π ngrok –∏–ª–∏ –¥–æ–º–µ–Ω
```

## –®–ê–ì 4: –î–æ–±–∞–≤—å –∫–æ–º–∞–Ω–¥—É –≤ –±–æ—Ç–∞

–í `telegram_bot.py` –¥–æ–±–∞–≤—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫:

```python
async def webapp_command(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """–û—Ç–∫—Ä—ã—Ç—å WebApp"""
    keyboard = [
        [InlineKeyboardButton(
            "üöÄ –û—Ç–∫—Ä—ã—Ç—å Forex Signals Pro", 
            web_app=WebAppInfo(url=BotConfig.WEBAPP_URL)
        )]
    ]
    reply_markup = InlineKeyboardMarkup(keyboard)
    
    await update.message.reply_text(
        "–ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:",
        reply_markup=reply_markup
    )

# –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥—ã
application.add_handler(CommandHandler('webapp', webapp_command))
```

## –®–ê–ì 5: –ü—Ä–æ–≤–µ—Ä—å —Ä–∞–±–æ—Ç—É

### 1. –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
```
üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ Telegram WebApp...
‚úÖ Telegram WebApp SDK –∑–∞–≥—Ä—É–∂–µ–Ω
üì± Platform: ios / android / web
üé® Theme: dark / light
üë§ User data: {id: 123456789, first_name: "John", ...}
‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–π–¥–µ–Ω: John (ID: 123456789)
‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ API —É—Å–ø–µ—à–Ω–∞: John
```

### 2. –ï—Å–ª–∏ –≤–∏–¥–∏—à—å –æ—à–∏–±–∫–∏:

**‚ùå "–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—â–µ–Ω–æ –≤ Telegram WebApp"**
- –û—Ç–∫—Ä—ã–≤–∞–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¢–û–õ–¨–ö–û —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É –≤ –±–æ—Ç–µ
- –ù–µ –æ—Ç–∫—Ä—ã–≤–∞–π –Ω–∞–ø—Ä—è–º—É—é –≤ –±—Ä–∞—É–∑–µ—Ä–µ

**‚ùå "–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"**
- –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ URL –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤ BotFather
- –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å HTTPS (ngrok –¥–∞–µ—Ç HTTPS –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

**‚ùå "–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ API"**
- –ó–∞–ø—É—Å—Ç–∏ `backend/START_ALL_APIS.bat`
- –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ Auth API —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 5001

## –®–ê–ì 6: Production –¥–µ–ø–ª–æ–π

### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω:

1. **–ó–∞–ª–µ–π —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥:**
   - Vercel (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
   - Netlify
   - GitHub Pages

2. **–ó–∞–ø—É—Å—Ç–∏ –±—ç–∫–µ–Ω–¥ –Ω–∞ VPS:**
   ```bash
   # –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
   cd backend
   python auth_api.py &
   python signal_api.py &
   ```

3. **–û–±–Ω–æ–≤–∏ URL –≤ –∫–æ–¥–µ:**
   ```javascript
   // App.jsx
   const API_URL = 'https://—Ç–≤–æ–π-—Å–µ—Ä–≤–µ—Ä.com'
   
   fetch(`${API_URL}/api/auth/login`, ...)
   ```

4. **–£–∫–∞–∂–∏ –ø—Ä–æ–¥–∞–∫—à–Ω URL –≤ BotFather**

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã:

```
‚úÖ –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω (telegram_bot.py)
‚úÖ Auth API –∑–∞–ø—É—â–µ–Ω (–ø–æ—Ä—Ç 5001)
‚úÖ Signal API –∑–∞–ø—É—â–µ–Ω (–ø–æ—Ä—Ç 5002)
‚úÖ –§—Ä–æ–Ω—Ç–µ–Ω–¥ –∑–∞–ø—É—â–µ–Ω (npm run dev)
‚úÖ Ngrok —Å–æ–∑–¥–∞–ª —Ç—É–Ω–Ω–µ–ª—å
‚úÖ URL —É–∫–∞–∑–∞–Ω –≤ BotFather
‚úÖ –ö–æ–º–∞–Ω–¥–∞ /webapp –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ –±–æ—Ç–∞
```

## –ì–æ—Ç–æ–≤–æ! üéâ

–¢–µ–ø–µ—Ä—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç:
1. –û—Ç–∫—Ä—ã—Ç—å –±–æ—Ç–∞ –≤ Telegram
2. –ù–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É WebApp
3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è
4. –ü–æ–ª—É—á–∞—Ç—å –†–ï–ê–õ–¨–ù–´–ï —Å–∏–≥–Ω–∞–ª—ã!

